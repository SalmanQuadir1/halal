<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICCV</title>
    <link rel="shortcut icon" type="image/png" th:href="@{/images/iccv_logo-removebg-preview.png}">
    <link rel="stylesheet" th:href="@{/css/form.css}">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
	<!-- fontawesome -->
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" th:href="@{/css/all.min.css}">
	<!-- bootstrap -->
	<link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}">
	<!-- owl carousel -->
	<link rel="stylesheet" th:href="@{/css/owl.carousel.css}">
	<!-- magnific popup -->
	<link rel="stylesheet" th:href="@{/css/magnific-popup.css}">
	<!-- animate css -->
	<link rel="stylesheet" th:href="@{/css/animate.css}">
	<!-- mean menu css -->
	<link rel="stylesheet" th:href="@{/css/meanmenu.min.css}">
	<!-- main style -->
	<link rel="stylesheet" th:href="@{/css/main.css}">
	<!-- responsive -->
	<link rel="stylesheet" th:href="@{/css/responsive.css}">
    <style>
     .pt{
     padding-top:120px;
     }
     .add{
     box-shadow:  0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
     }
    </style>
	
</head> 

<body class="">
<div th:insert="fragments/header :: myheader"></div>
      <div class="container pt">
      <div class=" col-md-12 bg-success">
          <p class=" text-white p-3 text-uppercase text-center"> <b>View Users</b></p>
           </div>
      
					      <div class="col-md-12 mt-3">
					      <table class="table">
								<thead>
									<tr class=" bg-light">
									   <th class="text-center">Username</th>
									   	<th class="text-center">Roles</th>
										<th class="text-center">Actions</th>
									</tr>
								</thead>
								<tbody>
									<tr  th:each="users : ${userList}">
										<td th:text="${users.username}"></td>
										<td>
										  <select class="form-control is-valid" id="validationServer03" multiple>
										  	<option th:each="role : ${users.roles}" th:utext="${role.roleName}" selected />
										  </select>
										</td>
										<td>
										  <div th:each="role : ${user.roles}" th:if="${role.roleName == 'ROLE_ADMIN' and user.username=='admin'}" class="text-center">
											   	 <a th:href="@{'/user/edituser/'+${user.id}+'/'+${page}}"> <i class="fa fa-edit"></i></a>
										         <a th:href="@{'/users/deleteuser/'+${user.id}}"> <i class="fa fa-trash"></i></a>
										  </div>
										</td>
									</tr>
								</tbody>
							</table>
      
                         </div>
                         
							 <div class="row">
							  <div class="col-md-4  mr-b-40"> </div>
								 <div class="col-md-4  mr-b-40">
									<nav aria-label="Page navigation">
				                        <ul class="pagination pagination-lg mr-t-0">
				                           <li class="page-item"><a class="page-link" th:if="${page>1}" th:href="@{'/user/viewuser/getpage/pageno='+${page-1}}" aria-label="Previous"><span aria-hidden="true"><i class="material-icons">arrow_back</i></span></a>
				                           </li>
				                           <li  th:each="i: ${#numbers.sequence(1,total)}" th:inline="text" th:unless="${i<1}" th:class="${i}==${page}? 'page-item active'" ><a class='page-link' th:href="@{'/user/viewuser/getpage/pageno='+ ${i-1}}">[[${i}]]</a>
				                           </li>
				                           <li class="page-item"><a class="page-link" th:if="${page < total-1}" th:href="@{'/user/viewuser/getpage/pageno='+${page+1}}" aria-label="Next"><span aria-hidden="true"><i class="material-icons">arrow_forward</i></span></a>
				                           </li>
				                      	 </ul>
				                    </nav>			
				               </div>
										<div class="col-md-4  mr-b-40"> </div>
							</div> 
                      

</div>
</body>
</html>